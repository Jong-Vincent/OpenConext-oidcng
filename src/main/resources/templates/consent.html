<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Consent</title>
    <meta name="robots" content="noindex, nofollow">
    <meta content="ie=edge,chrome=1" http-equiv="x-ua-compatible">
    <meta content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="translucent-black" name="apple-mobile-web-app-status-bar-style">
    <link href="/favicon.ico" rel="shortcut icon">
    <link th:href="@{/consent.css}" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="container">
    <form method="post" action="/oidc/consent">
        <div class="header">
            <span>Do you give permission to share your information?</span>
        </div>
        <div class="content">
            <div class="data-transfer">
                <div class="client">
                    <div class="image-container">
                        <img th:src="${client.logoUrl}" alt=""/>
                    </div>
                </div>
                <div class="arrows">
                    <svg enable-background="new 0 0 32 32" height="32px" id="arrow-left-svg" version="1.1"
                         viewBox="0 0 32 32"
                         width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                        <g id="arrow-left">
                        <path d="M3.404,13.019h15.593c0.552,0,1-0.452,1-1.01c0-0.558-0.448-1.01-1-1.01H3.404l5.2-5.275   c0.391-0.395,0.391-1.034,0-1.428c-0.391-0.395-1.024-0.395-1.414,0l-6.899,6.999c-0.385,0.389-0.389,1.04,0,1.429l6.9,6.999   c0.391,0.395,1.024,0.394,1.414,0c0.391-0.394,0.391-1.034,0-1.428L3.404,13.019z"
                              fill="#121313"/>
                        </g>
                    </svg>
                    <svg enable-background="new 0 0 32 32" height="32px" id="arrow-right-svg" version="1.1"
                         viewBox="0 0 32 32"
                         width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                        <g id="arrow-right">
                        <path d="M31.71,19.277l-6.9-6.999c-0.391-0.395-1.024-0.394-1.414,0c-0.391,0.394-0.391,1.034,0,1.428l5.2,5.275   H13.003c-0.552,0-1,0.452-1,1.01c0,0.558,0.448,1.01,1,1.01h15.593l-5.2,5.275c-0.391,0.395-0.391,1.034,0,1.428   c0.391,0.395,1.024,0.395,1.414,0l6.899-6.999C32.095,20.317,32.099,19.666,31.71,19.277z"
                              fill="#121313"/>
                        </g>
                    </svg>
                </div>
                <div class="resource-server">
                    <div class="image-container" th:each="rs : ${resourceServers}">
                        <img th:src="${rs.logoUrl}" alt=""/>
                    </div>
                </div>
            </div>
            <div>
                <p><span class="strong" th:text="${client.name}"/></span> needs to contact
                    <span class="strong" th:text="${resourceServerNames}"/>
                    to query your personal information.</p>
            </div>

            <div class="grant">
                <span>Grant <span class="strong" th:text="${client.name}"/> permission to:</span>
                <ul>
                    <li th:each="scope : ${scopes}" th:text="${scope}"/>
                </ul>
            </div>
        </div>
        <div class="actions">
            <button name="yes" value="yes" type="submit">Allow</button>
            <a href="#modal-one" class="button cancel">No, I don't agree</a>
        </div>
        <input th:each="parameter : ${parameters}" type="hidden" th:name="${parameter.key}"
               th:value="${parameter.value}"/>
    </form>
    <!--    <div class="footer">-->
    <!--        <div class="inner-footer">-->
    <!--            <a href="/nl" onclick="switchLang('nl'); return false;">NL</a>-->
    <!--            <span>EN</span>-->
    <!--        </div>-->
    <!--    </div>-->

</div>
<div class="modal" id="modal-one" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-header">
            <h2>Are you sure?</h2>
        </div>
        <div class="modal-body">
            <p>
                The service you're logging into requires your data to function properly. If you prefer not to share your
                data, you cannot use this service. By closing your browser or just this tab you prevent your information
                from being shared with the service.
            </p>
            <p> If you have any questions about this page, please contact the help desk of your institution or reach out
                to us at <a href="mailto@help@surfconext.nl">help@surfconext.nl</a>.</p>
        </div>
        <div class="modal-footer">
            <a href="#" class="button cancel">Close</a>
        </div>
    </div>
</div>
</body>
<script>

  function switchLang(lang) {
    var searchParams = new URLSearchParams(window.location.search);
    searchParams.set("lang", lang);
    window.location.search = searchParams.toString();
  }

</script>
</html>